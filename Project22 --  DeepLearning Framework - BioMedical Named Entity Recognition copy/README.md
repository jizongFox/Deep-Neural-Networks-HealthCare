A deep learning framework for biomedical named eitity recognition
======
BNER is a package for biomedical named eitity recognition using recurrent neural networks based on package [LibN3L](https://github.com/SUTDNLP/LibN3L). 

System configuration
======
* Download the [LibN3L](https://github.com/SUTDNLP/LibN3L) library and configure your system. Please refer to [Here](https://github.com/SUTDNLP/LibN3L). This is a deep learning toolkit in C++, designed specially for NLP. This package can easily support various user-defined neural network structures.
* Take JNLPBA corpus as an example. Please open [/JNLPBA/CMakeLists.txt](JNLPBA/CMakeLists.txt) and change " ../LibN3L/" into the directory of your [LibN3L](https://github.com/SUTDNLP/LibN3L) package.

Compile
======
* cmake .
* make LSTMCRFMLLabeler

***LSTMCRFMLLabeler*** is the bidirectional LSTM.

Training
=====
This is a training example.

* ./LSTMCRFMLLabeler -l -train example/trainsample.txt -dev example/devsample.txt -test example/testsample.txt -option example/option -word ../embeddings/bio/pub.50.vec -model example/demoLSTMML50.model

-l: training. 

-train: train set. 

-test: test set. In this training command, it is only used for constructing the word embedding vocabulary. 

-option:  parameter setting file. 

-word: pretrained word embedding. 

-model: the path of saved model file. 



The demo system includes BNER sample data(["sample.txt"](JNLPBA/example/sample.txt), English word embeding sample file(["sena.emb"](embeddings/senna/sena.emb)) and parameter setting file(["option.tune"](JNLPBA/example/option.tune.pub.C.drop0.notune.h100)). All of these files are in the path described in the above trainning command.
 
This demo system runs a ***LSTMCRFMLLabeler*** model which means a bidirectional LSTM neural network and use CRF maximun likelihood as the objective function. 

The demo system will generate model file: "demoLSTMMM50.model" at ["example"](JNLPBA/example).

Test:
=====

This is a test example.

* ./LSTMCRFMLLabeler -test example/testsample.txt -model example/demoLSTMMM50.model -output data/testLSTMMM50.output

-test: test set.

-model: the model used for testing. "demoLSTMMM50.model" at ["example"](JNLPBA/example) is our trained model using Bi-LSTM and Biomedical embeddings(50 dim.)

-outoput: the predicted result fot the test file (["testsample.txt"](JNLPBA/example/sample.txt)) based on the model "demoLSTMMM50.model".

Demo system:
=====
* Run the [neuralLSTMML-pubvec50-BIES_drop0_notune_h100.sh](JNLPBA/neuralLSTMML-pubvec50-BIES_drop0_notune_h100.sh) file: `sh neuralLSTMML-senna50-BIES_drop0_notune_h100.sh`. This is a simple integration of the above process.
* You can run `sh cleanall.sh` to clean the files generated by the source.

Related Data:
=====

* The pretrained word embeddings in this page only contain a English word embeding sample file(["sena.emb"](embeddings/senna/sena.emb)). The word embeddings used in our system should follow this format. You can get the full SENNA embedding from (http://ronan.collobert.com/senna/), Google word2vec embedding from (https://code.google.com/p/word2vec/), our biomedical-domain word embeddings released in (https://drive.google.com/file/d/0B0DShGFN8prSX2YxT2ZNU0ZENHc/view?usp=sharing)
* You can also get the "demoLSTMML300.model" generated by Bi-LSTM and Biomedical embeddings(300 dim.) in (https://drive.google.com/file/d/0B0DShGFN8prSdE9WTjZmUHhkNnM/view?usp=sharing). "demoLSTMMM300.model" and "demoLSTMMM50.model" are the models performing well in this task.

Note: 
======
* We only release LSTM-RNN and bidirectional LSTM-RNN method, which performs well in this taks, in the project. If you need RNN and bidirectional RNN, please contact me.
* You can also directly use our project to train you own models for other NER tasks, such as chemical and disease named entity recognition. When you get you result file generated by your own model, you should evaluate the result by your own evaluation script, or modify the evaluation method in our source code. 
* The example files are just to verify the running for the code. For copyright consideration, we take only some sentences as example. Hence the results on those example datasets does not represent the real performance on large dataset. The training and test files should follow the format of the example files(["trainsample.txt"](LSTMRNN/data/trainsample.txt), and ["testsample.txt"](LSTMRNN/data/testsample.txt)).
* Current version only compatible with [LibN3L](https://github.com/SUTDNLP/LibN3L) after ***Dec. 10th 2015*** , which contains the model saving and loading module.
* The .cpp file also provide gradient checking for verify your code, it is commentted out by defult. It is necessary to set "dropout = 0" in ["option.tune"](JNLPBA/example/option.tune.pub.C.drop0.notune.h100) before you enable the gradient checking. 


Updating...
====

Contact:
=====
lvchen1989@whu.edu.cn
